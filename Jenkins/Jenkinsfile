pipeline {
  agent any
    stages {
        stage('Setup') {
          steps {
            echo 'Welcome to the Setup Stage!'
            sh 'ls -la'
          }
        }

        stage('Build APP') {
          steps {
            echo 'Welcome to the Build Stage!'
            sh 'cd app'
            sh 'docker build -t app:jenkins .'
            sh 'docker rmi app:jenkins'
          }
        }

        stage('Output') {
          steps {
            echo 'Welcome to the Output Stage!'
          }
        }

        stage('Cleanup') {
          steps {
            echo 'Welcome to the Cleanup Stage!'
            sh 'ls -la'
            sh 'rm -rf *'
            sh 'ls -la'
          }
        }
    }
}

